language: go

go:
  - 1.1

build:
    ci:
      - echo 'true'
    post_ci:
      - docker build -t amurphy/test:0.0.1 --rm ./
      - docker tag -f amurphy/test:0.0.1 amurphy/test:latest
      - docker push amurphy/test:latest

integrations:
  hub:
    - integrationName: "Docker Hub"
      type: docker

  deploy:
    - integrationName: "AWS"
      type: aws
      target: eb_docker
      platform: "Docker"
      application_name: "beanstalk_application"
      env_name: "beanstalk-env"
      bucket_name: "elasticbeanstalk-us-west-2-544102397216"
      region: "us-west-2"
      image_name: "amurphy/test"
      image_tag: "latest"


