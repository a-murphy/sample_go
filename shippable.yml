language: go

go:
  - 1.1

build:
    pre_ci_boot:
      image_name: drydock/u14golall
      image_tag: prod
      pull: true
    ci:
      - echo 'true'
    post_ci:
      #- docker build -t amurphy/test:0.0.1 --rm ./
      #- docker tag -f amurphy/test:0.0.1 amurphy/test:latest
      #- docker push amurphy/test:latest
      - aws s3 sync $SHIPPABLE_BUILD_DIR "s3://573fb3cea987f71a9554335a" --region "us-west-2"

integrations:
  hub:
    - integrationName: "Docker Hub"
      type: docker

  deploy:
    - integrationName: "AWS"
      type: aws
  #    target: eb_docker
  #    application_name: "beanstalk_application"
  #    env_name: "beanstalk-env"
  #    bucket_name: "elasticbeanstalk-us-west-2-544102397216"
  #    region: "us-west-2"
  #    image_name: "amurphy/test"
  #    image_tag: "latest"


